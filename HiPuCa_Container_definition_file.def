#Header
Bootstrap: docker
From: ubuntu:22.04


#Body
%post
    apt-get update
    #install C++ compiler
    apt-get install -y g++
    #install git 
    apt-get install -y git
    #install OpenMP for g++
    apt-get install -y libgomp1
    #install make
    apt-get install -y make
    
    
    #get code
    mkdir $SINGULARITY_ROOTFS/Software
    cd $SINGULARITY_ROOTFS/Software
    git clone https://github.com/MatteoPegorin/HiPuCa_code
    cd HiPuCa_code
    make

    NOW_VAR=`date`

%runscript
echo "Container created successfully $NOW_VAR"
